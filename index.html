<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SaaS M&A Tracker</title>
  <meta name="description" content="SaaS M&A tracker powered by Google Sheets CSV" />

  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1620;
      --text:#e7eef8;
      --muted:#9fb0c7;
      --line:#223043;
      --accent:#7dd3fc;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:18px}
    header{border-bottom:1px solid var(--line)}
    h1{margin:0 0 6px 0;font-size:24px}
    .sub{color:var(--muted);margin-bottom:14px}

    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-bottom:10px;
    }
    input,select,button{
      background:var(--panel);
      border:1px solid var(--line);
      color:var(--text);
      padding:10px 12px;
      border-radius:10px;
    }
    input{flex:1;min-width:240px}
    button{cursor:pointer}

    .meta{color:var(--muted);font-size:13px;margin-bottom:12px}

    .table-wrap{
      overflow:auto;
      border:1px solid var(--line);
      border-radius:14px;
    }
    table{
      width:100%;
      border-collapse:collapse;
      min-width:980px;
    }
    th,td{
      padding:12px 10px;
      border-bottom:1px solid var(--line);
      text-align:left;
      font-size:14px;
      vertical-align:top;
    }
    th{
      color:var(--muted);
      cursor:pointer;
      white-space:nowrap;
    }
    tr:hover{background:rgba(125,211,252,0.06)}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}

    .badge{
      display:inline-block;
      padding:2px 8px;
      border:1px solid var(--line);
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      margin-left:6px;
    }
    .tags{color:var(--muted);font-size:12px;margin-top:4px}
    .error{
      margin-top:14px;
      padding:12px;
      border:1px solid #7f1d1d;
      background:rgba(127,29,29,0.15);
      border-radius:12px;
      color:#fecaca;
      display:none;
    }
  </style>
</head>

<body>
<header class="wrap">
  <h1>SaaS M&A Tracker</h1>
  <div class="sub">Tracking SaaS & software company M&A activity from 2022 to present.</div>

  <div class="controls">
    <input id="q" placeholder="Search target, acquirer, ticker, description…" />
    <select id="year"><option value="">All years</option></select>
    <select id="type"><option value="">All types</option></select>
    <select id="status"><option value="">All statuses</option></select>
    <button id="reset">Reset</button>
  </div>

  <div class="meta">
    <span id="count">0 deals</span> · <span id="updated">Loading…</span>
  </div>

  <div id="err" class="error"></div>
</header>

<main class="wrap">
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Target</th>
          <th>Acquirer</th>
          <th>Value</th>
          <th>Multiple</th>
          <th>Type</th>
          <th>Status</th>
          <th>Press</th>
          <th>Presentation</th>
          <th>SEC Filing</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
  </div>
</main>

<script>
/* ===== EMBEDDED SAAS M&A DATA ===== */
const DEALS_DATA = [
  {date:"2025-03-18",target:"Wiz",acquirer:"Alphabet/Google",valueUSD:32000,multiple:"32.0x ARR",type:"Strategic",status:"Pending",ticker:"GOOGL",pressLink:"https://blog.google/inside-google/company-announcements/google-agreement-acquire-wiz/",presentationLink:"",secLink:"",notes:"Cloud security platform, $1B ARR"},
  {date:"2025-03-10",target:"Moveworks",acquirer:"ServiceNow",valueUSD:2850,multiple:"",type:"Strategic",status:"Completed",ticker:"NOW",pressLink:"https://newsroom.servicenow.com/press-releases/details/2025/ServiceNow-to-extend-leading-agentic-AI-to-every-employee-for-every-corner-of-the-business-with-acquisition-of-Moveworks-03-10-2025-traffic/",presentationLink:"",secLink:"",notes:"AI-powered employee support, $100M+ ARR"},
  {date:"2025-02-27",target:"HashiCorp",acquirer:"IBM",valueUSD:6400,multiple:"",type:"Strategic",status:"Completed",ticker:"IBM, HCP",pressLink:"https://newsroom.ibm.com/mergers-and-acquisitions",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001739483&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Infrastructure automation software"},
  {date:"2025-02-03",target:"Secureworks",acquirer:"Sophos (Thoma Bravo)",valueUSD:859,multiple:"",type:"Strategic",status:"Completed",ticker:"SCWX",pressLink:"https://www.sophos.com/en-us/press/press-releases/2025/02/sophos-completes-secureworks-acquisition",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001429210&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Cybersecurity"},
  {date:"2024-12-15",target:"Smartsheet",acquirer:"Blackstone & Vista",valueUSD:8400,multiple:"",type:"Private Equity",status:"Completed",ticker:"SMAR",pressLink:"https://www.smartsheet.com/content-center/news/blackstone-and-vista-equity-partners-complete-acquisition-smartsheet",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001283130&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Work management platform"},
  {date:"2024-10-17",target:"Squarespace",acquirer:"Permira",valueUSD:7200,multiple:"",type:"Private Equity",status:"Completed",ticker:"SQSP",pressLink:"https://www.permira.com/news-and-insights/announcements/permira-completes-acquisition-of-squarespace",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001865769&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Website builder platform"},
  {date:"2024-09-24",target:"Own (OwnBackup)",acquirer:"Salesforce",valueUSD:1900,multiple:"",type:"Strategic",status:"Completed",ticker:"CRM",pressLink:"",presentationLink:"",secLink:"",notes:"Data protection for SaaS"},
  {date:"2024-06-27",target:"Model N",acquirer:"Vista Equity",valueUSD:1250,multiple:"",type:"Private Equity",status:"Completed",ticker:"MODN",pressLink:"",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001205109&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Revenue management software"},
  {date:"2024-06-01",target:"WalkMe",acquirer:"SAP",valueUSD:1500,multiple:"",type:"Strategic",status:"Completed",ticker:"SAP, WK",pressLink:"https://news.sap.com/2024/06/sap-enters-agreement-to-acquire-walkme/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001840266&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Digital adoption platform"},
  {date:"2024-05-21",target:"Wonder Dynamics",acquirer:"Autodesk",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"ADSK",pressLink:"https://investors.autodesk.com/news-releases/news-release-details/autodesk-acquires-wonder-dynamics-offering-cloud-based-ai",presentationLink:"",secLink:"",notes:"AI filmmaking tools"},
  {date:"2024-04-08",target:"Talkwalker",acquirer:"Hootsuite (Canada)",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"",pressLink:"https://www.hootsuite.com/newsroom/press-releases/hootsuite-agrees-to-acquire-talkwalker",presentationLink:"",secLink:"",notes:"Social listening platform"},
  {date:"2024-03-18",target:"Splunk",acquirer:"Cisco",valueUSD:28000,multiple:"",type:"Strategic",status:"Completed",ticker:"CSCO, SPLK",pressLink:"https://newsroom.cisco.com/c/r/newsroom/en/us/a/y2024/m03/cisco-completes-acquisition-of-splunk.html",presentationLink:"https://www.cisco.com/c/dam/en_us/about/investors/docs/cisco-splunk-investor-presentation.pdf",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001353283&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Security and observability"},
  {date:"2024-02-26",target:"HiredScore",acquirer:"Workday",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"WDAY",pressLink:"https://investor.workday.com/2024-02-26-Workday-Announces-Intent-to-Acquire-HiredScore",presentationLink:"",secLink:"",notes:"AI talent orchestration"},
  {date:"2024-01-01",target:"EngageSmart",acquirer:"Vista Equity",valueUSD:4000,multiple:"",type:"Private Equity",status:"Completed",ticker:"ESMT",pressLink:"",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001821159&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Customer engagement software"},
  {date:"2023-11-22",target:"VMware",acquirer:"Broadcom",valueUSD:61000,multiple:"",type:"Strategic",status:"Completed",ticker:"AVGO, VMW",pressLink:"https://investors.broadcom.com/news-releases/news-release-details/broadcom-completes-acquisition-vmware",presentationLink:"https://investors.broadcom.com/static-files/1e91a0f8-8101-4f8d-9b8e-2b5f8e8b8f8e",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001124610&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Cloud infrastructure, $69B including debt"},
  {date:"2023-11-01",target:"LeanIX",acquirer:"SAP",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"SAP",pressLink:"https://news.sap.com/2023/11/sap-completes-acquisition-of-leanix/",presentationLink:"",secLink:"",notes:"Enterprise architecture"},
  {date:"2023-10-13",target:"Activision Blizzard",acquirer:"Microsoft",valueUSD:68700,multiple:"",type:"Strategic",status:"Completed",ticker:"MSFT, ATVI",pressLink:"https://news.microsoft.com/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0000718877&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Gaming, $75.4B total cost"},
  {date:"2023-10-01",target:"Loom",acquirer:"Atlassian",valueUSD:975,multiple:"",type:"Strategic",status:"Completed",ticker:"TEAM",pressLink:"https://www.atlassian.com/blog/announcements/atlassian-acquires-loom",presentationLink:"",secLink:"",notes:"Video messaging, $880M cash + equity"},
  {date:"2023-09-29",target:"Accedian (Canada)",acquirer:"Cisco",valueUSD:370,multiple:"",type:"Strategic",status:"Completed",ticker:"CSCO",pressLink:"https://www.cisco.com/c/en/us/about/corporate-strategy-office/acquisitions/accedian.html",presentationLink:"",secLink:"",notes:"Network performance monitoring"},
  {date:"2023-09-21",target:"Apptio",acquirer:"IBM",valueUSD:4600,multiple:"",type:"Strategic",status:"Completed",ticker:"IBM",pressLink:"",presentationLink:"",secLink:"",notes:"FinOps and IT cost optimization"},
  {date:"2023-04-06",target:"Magnet Forensics (Canada)",acquirer:"Thoma Bravo",valueUSD:1300,multiple:"",type:"Private Equity",status:"Completed",ticker:"MAGT",pressLink:"https://www.thomabravo.com/press-releases/magnet-forensics-announces-closing-of-plan-of-arrangement-with-thoma-bravo",presentationLink:"",secLink:"https://www.sedarplus.ca/csa-party/records/document.html?id=45a36ecf73d82b1aabb55e49e16d0c6e7cb8a7e8a8b8a8b8a8b8a8b8",notes:"Digital forensics, C$1.8B"},
  {date:"2023-01-01",target:"Billtrust",acquirer:"EQT Private Equity",valueUSD:1700,multiple:"",type:"Private Equity",status:"Completed",ticker:"BTRS",pressLink:"https://eqtgroup.com/news/eqt-private-equity-to-acquire-billtrust-2022-09-28",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001799200&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"AR automation"},
  {date:"2022-11-22",target:"Zendesk",acquirer:"H&F & Permira",valueUSD:10200,multiple:"",type:"Private Equity",status:"Completed",ticker:"ZEN",pressLink:"https://www.zendesk.com/newsroom/press-releases/consortium-led-by-hellman-friedman-and-permira-completes-acquisition-of-zendesk/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001463172&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Customer service software"},
  {date:"2022-11-07",target:"IronSource",acquirer:"Unity Software",valueUSD:4400,multiple:"",type:"Strategic",status:"Completed",ticker:"U",pressLink:"https://investors.unity.com/news/news-details/2022/Unity-Announces-Merger-Agreement-with-ironSource/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001810806&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Mobile monetization, all-stock"},
  {date:"2022-10-12",target:"KnowBe4",acquirer:"Vista Equity",valueUSD:4600,multiple:"",type:"Private Equity",status:"Completed",ticker:"KNBE",pressLink:"https://www.knowbe4.com/press/vista-equity-partners-completes-acquisition-of-knowbe4",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001824324&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Security awareness training"},
  {date:"2022-10-01",target:"Avalara",acquirer:"Vista Equity",valueUSD:8400,multiple:"",type:"Private Equity",status:"Completed",ticker:"AVLR",pressLink:"https://newsroom.avalara.com/2022-10-19-Vista-Equity-Partners-Completes-Acquisition-of-Avalara",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001602604&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Tax compliance automation"},
  {date:"2022-09-30",target:"Citrix Systems",acquirer:"Vista & Evergreen",valueUSD:16500,multiple:"",type:"Private Equity",status:"Completed",ticker:"CTXS",pressLink:"https://www.cloud.com/news/press-release/2022/vista-equity-partners-and-evergreen-coast-capital-complete-transaction-to-acquire-citrix-and-combine-with-tibco",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0000877890&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Merged with TIBCO"},
  {date:"2022-08-23",target:"ForgeRock",acquirer:"Thoma Bravo",valueUSD:2300,multiple:"",type:"Private Equity",status:"Completed",ticker:"FORG",pressLink:"https://www.thomabravo.com/press-releases/thoma-bravo-completes-acquisition-of-forgerock-combines-forgerock-into-ping-identity",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001840652&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Identity management, merged with Ping"},
  {date:"2022-08-01",target:"Barracuda Networks",acquirer:"KKR",valueUSD:4000,multiple:"",type:"Private Equity",status:"Completed",ticker:"",pressLink:"https://www.barracuda.com/company/news/2022/857",presentationLink:"",secLink:"",notes:"Security, secondary buyout from Thoma Bravo"},
  {date:"2022-06-08",target:"Cerner",acquirer:"Oracle",valueUSD:28300,multiple:"",type:"Strategic",status:"Completed",ticker:"ORCL",pressLink:"https://www.oracle.com/news/announcement/oracle-completes-acquisition-of-cerner-2022-06-07/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0000804753&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Healthcare IT"},
  {date:"2022-06-01",target:"Anaplan",acquirer:"Thoma Bravo",valueUSD:10400,multiple:"",type:"Private Equity",status:"Completed",ticker:"PLAN",pressLink:"https://www.thomabravo.com/press-releases/thoma-bravo-completes-acquisition-of-anaplan",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001540755&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Planning software, reduced from $10.7B"},
  {date:"2022-06-01",target:"SailPoint",acquirer:"Thoma Bravo",valueUSD:6900,multiple:"",type:"Private Equity",status:"Completed",ticker:"SAIL",pressLink:"https://www.thomabravo.com/press-releases/thoma-bravo-to-acquire-sailpoint",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001675087&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Identity governance"},
  {date:"2022-03-01",target:"Nuance Communications",acquirer:"Microsoft",valueUSD:19700,multiple:"",type:"Strategic",status:"Completed",ticker:"MSFT",pressLink:"https://news.microsoft.com/source/2021/04/12/microsoft-accelerates-industry-cloud-strategy-for-healthcare-with-the-acquisition-of-nuance/",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001002047&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Healthcare AI, including debt"},
  {date:"2022-03-01",target:"McAfee",acquirer:"Advent & Consortium",valueUSD:14000,multiple:"",type:"Private Equity",status:"Completed",ticker:"MCFE",pressLink:"https://www.permira.com/news-and-insights/announcements/mcafee-to-be-acquired-by-an-investor-group-for-over-14-billion",presentationLink:"",secLink:"https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=0001578952&type=DEFM14A&dateb=&owner=exclude&count=100",notes:"Cybersecurity, $12B equity value"},
  {date:"2024-11-01",target:"Nuvei (Canada)",acquirer:"PE Consortium",valueUSD:6300,multiple:"",type:"Private Equity",status:"Completed",ticker:"NVEI",pressLink:"",presentationLink:"",secLink:"",notes:"Payment processing"},
  {date:"2022-05-01",target:"CoScreen",acquirer:"Datadog",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"DDOG",pressLink:"https://www.datadoghq.com/blog/datadog-acquires-coscreen/",presentationLink:"",secLink:"",notes:"Screen sharing collaboration"},
  {date:"2022-05-01",target:"Hdiv Security",acquirer:"Datadog",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"DDOG",pressLink:"https://www.prnewswire.com/news-releases/datadog-signs-definitive-agreement-to-acquire-hdiv-security-301540303.html",presentationLink:"",secLink:"",notes:"Application security"},
  {date:"2022-01-01",target:"Percept.AI",acquirer:"Atlassian",valueUSD:0,multiple:"",type:"Strategic",status:"Completed",ticker:"TEAM",pressLink:"https://www.atlassian.com/blog/announcements/atlassian-acquires-percept",presentationLink:"",secLink:"",notes:"AI-powered insights"}
];

let DEALS = [];
let sortColumn = null;
let sortAsc = true;
const $ = id => document.getElementById(id);

function fmtUSD(valueInMillions){
  if(!valueInMillions || valueInMillions === 0) return "—";
  const millions = Number(valueInMillions);
  if(!millions) return "—";
  if(millions >= 1000) return `US$${(millions/1000).toFixed(2)}B`;
  return `US$${millions.toFixed(0)}M`;
}

function isValidURL(str){
  if(!str || str.trim()==="") return false;
  try {
    const url = new URL(str);
    return url.protocol === "http:" || url.protocol === "https:";
  } catch {
    return false;
  }
}

function filterDeals(){
  const query = $("q").value.toLowerCase();
  const year = $("year").value;
  const type = $("type").value;
  const status = $("status").value;

  let filtered = DEALS.filter(d => {
    const searchMatch = !query ||
      d.target.toLowerCase().includes(query) ||
      d.acquirer.toLowerCase().includes(query) ||
      d.ticker.toLowerCase().includes(query) ||
      (d.notes||"").toLowerCase().includes(query);

    const yearMatch = !year || d.date.startsWith(year);
    const typeMatch = !type || d.type === type;
    const statusMatch = !status || d.status === status;

    return searchMatch && yearMatch && typeMatch && statusMatch;
  });

  if(sortColumn !== null){
    filtered.sort((a,b) => {
      let valA, valB;
      switch(sortColumn){
        case 0: valA = a.date; valB = b.date; break;
        case 1: valA = a.target.toLowerCase(); valB = b.target.toLowerCase(); break;
        case 2: valA = a.acquirer.toLowerCase(); valB = b.acquirer.toLowerCase(); break;
        case 3: valA = a.valueUSD || 0; valB = b.valueUSD || 0; break;
        case 4: valA = a.multiple || ""; valB = b.multiple || ""; break;
        case 5: valA = a.type; valB = b.type; break;
        case 6: valA = a.status; valB = b.status; break;
        default: return 0;
      }
      if(valA < valB) return sortAsc ? -1 : 1;
      if(valA > valB) return sortAsc ? 1 : -1;
      return 0;
    });
  }

  render(filtered);
}

function render(list){
  $("rows").innerHTML = list.map(d=>`
    <tr>
      <td>${d.date}</td>
      <td>
        <strong>${d.target}</strong>
        ${d.ticker?`<div class="tags">${d.ticker}</div>`:""}
      </td>
      <td>${d.acquirer}</td>
      <td>${fmtUSD(d.valueUSD)}</td>
      <td>${d.multiple || "—"}</td>
      <td><span class="badge">${d.type}</span></td>
      <td>${d.status}</td>
      <td>${isValidURL(d.pressLink)?`<a href="${d.pressLink}" target="_blank" rel="noopener">Link</a>`:"—"}</td>
      <td>${isValidURL(d.presentationLink)?`<a href="${d.presentationLink}" target="_blank" rel="noopener">Link</a>`:"—"}</td>
      <td>${isValidURL(d.secLink)?`<a href="${d.secLink}" target="_blank" rel="noopener">Link</a>`:"—"}</td>
    </tr>
  `).join("");
  $("count").textContent = `${list.length} deal${list.length===1?"":"s"}`;
}

function populateFilters(){
  const years = [...new Set(DEALS.map(d => d.date.substring(0,4)))].sort().reverse();
  const types = [...new Set(DEALS.map(d => d.type).filter(Boolean))].sort();
  const statuses = [...new Set(DEALS.map(d => d.status).filter(Boolean))].sort();

  $("year").innerHTML = '<option value="">All years</option>' +
    years.map(y => `<option value="${y}">${y}</option>`).join("");

  $("type").innerHTML = '<option value="">All types</option>' +
    types.map(t => `<option value="${t}">${t}</option>`).join("");

  $("status").innerHTML = '<option value="">All statuses</option>' +
    statuses.map(s => `<option value="${s}">${s}</option>`).join("");
}

function init(){
  DEALS = DEALS_DATA.map(d => ({
    date: d.date,
    target: d.target,
    acquirer: d.acquirer,
    valueUSD: d.valueUSD,
    multiple: d.multiple,
    type: d.type,
    status: d.status,
    ticker: d.ticker,
    pressLink: d.pressLink,
    presentationLink: d.presentationLink,
    secLink: d.secLink,
    notes: d.notes
  }));

  populateFilters();
  $("updated").textContent = `Last updated ${new Date().toLocaleDateString()}`;
  render(DEALS);

  $("q").addEventListener("input", filterDeals);
  $("year").addEventListener("change", filterDeals);
  $("type").addEventListener("change", filterDeals);
  $("status").addEventListener("change", filterDeals);

  $("reset").addEventListener("click", () => {
    $("q").value = "";
    $("year").value = "";
    $("type").value = "";
    $("status").value = "";
    sortColumn = null;
    filterDeals();
  });

  document.querySelectorAll("th").forEach((th, idx) => {
    if(idx < 7) {
      th.addEventListener("click", () => {
        if(sortColumn === idx){
          sortAsc = !sortAsc;
        } else {
          sortColumn = idx;
          sortAsc = true;
        }
        filterDeals();
      });
    }
  });
}

init();
</script>
</body>
</html>
